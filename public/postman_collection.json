{
  "info": {
    "name": "Android Backend API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [ {"key": "Content-Type", "value": "application/json"} ],
            "url": {"raw": "{{base_url}}/api/auth/register", "host": ["{{base_url}}"], "path": ["api","auth","register"]},
            "body": {"mode": "raw", "raw": "{\n  \"name\": \"Test\",\n  \"email\": \"test@example.com\",\n  \"password\": \"secret123\"\n}"}
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "let json = pm.response.json();",
                  "if (json.token) { pm.collectionVariables.set('token', json.token); }"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [ {"key": "Content-Type", "value": "application/json"} ],
            "url": {"raw": "{{base_url}}/api/auth/login", "host": ["{{base_url}}"], "path": ["api","auth","login"]},
            "body": {"mode": "raw", "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"secret123\"\n}"}
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ],
            "url": {"raw": "{{base_url}}/api/auth/logout", "host": ["{{base_url}}"], "path": ["api","auth","logout"]}
          }
        },
        {
          "name": "Current User",
          "request": {
            "method": "GET",
            "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ],
            "url": {"raw": "{{base_url}}/api/auth/user", "host": ["{{base_url}}"], "path": ["api","auth","user"]}
          }
        }
      ]
    },
    {
      "name": "Categories",
      "item": [
        {
          "name": "List",
          "request": {"method": "GET", "url": {"raw": "{{base_url}}/api/categories", "host": ["{{base_url}}"], "path": ["api","categories"]}}
        },
        {
          "name": "Show",
          "request": {"method": "GET", "url": {"raw": "{{base_url}}/api/categories/1", "host": ["{{base_url}}"], "path": ["api","categories","1"]}}
        },
        {
          "name": "Create (admin)",
          "request": {
            "method": "POST",
            "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ],
            "url": {"raw": "{{base_url}}/api/categories", "host": ["{{base_url}}"], "path": ["api","categories"]},
            "body": {"mode": "raw", "raw": "{\n  \"name\": \"Fiction\"\n}"}
          }
        },
        {
          "name": "Update (admin)",
          "request": {
            "method": "PUT",
            "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ],
            "url": {"raw": "{{base_url}}/api/categories/1", "host": ["{{base_url}}"], "path": ["api","categories","1"]},
            "body": {"mode": "raw", "raw": "{\n  \"name\": \"Fiction Updated\"\n}"}
          }
        },
        {
          "name": "Delete (admin)",
          "request": {"method": "DELETE", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/categories/1", "host": ["{{base_url}}"], "path": ["api","categories","1"]}}
        }
      ]
    },
    {
      "name": "Books",
      "item": [
        {"name": "List", "request": {"method": "GET", "url": {"raw": "{{base_url}}/api/books?q=harry", "host": ["{{base_url}}"], "path": ["api","books"], "query": [{"key":"q","value":"harry"}]}}},
        {"name": "Show", "request": {"method": "GET", "url": {"raw": "{{base_url}}/api/books/1", "host": ["{{base_url}}"], "path": ["api","books","1"]}}},
        {"name": "Create (admin)", "request": {"method": "POST", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/books", "host": ["{{base_url}}"], "path": ["api","books"]}, "body": {"mode": "raw", "raw": "{\n  \"title\": \"Sample Book\",\n  \"author\": \"Author\",\n  \"category_id\": 1,\n  \"stock\": 5,\n  \"status\": \"available\"\n}"}}},
        {"name": "Update (admin)", "request": {"method": "PUT", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/books/1", "host": ["{{base_url}}"], "path": ["api","books","1"]}, "body": {"mode": "raw", "raw": "{\n  \"title\": \"Updated\",\n  \"author\": \"Author\",\n  \"category_id\": 1,\n  \"stock\": 5,\n  \"status\": \"available\"\n}"}}},
        {"name": "Delete (admin)", "request": {"method": "DELETE", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/books/1", "host": ["{{base_url}}"], "path": ["api","books","1"]}}}
      ]
    },
    {
      "name": "Wishlist (auth)",
      "item": [
        {"name": "List", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{token}}"}], "url": {"raw": "{{base_url}}/api/wishlist", "host": ["{{base_url}}"], "path": ["api","wishlist"]}}},
        {"name": "Add", "request": {"method": "POST", "header": [{"key": "Authorization", "value": "Bearer {{token}}"}], "url": {"raw": "{{base_url}}/api/wishlist/1", "host": ["{{base_url}}"], "path": ["api","wishlist","1"]}}},
        {"name": "Remove", "request": {"method": "DELETE", "header": [{"key": "Authorization", "value": "Bearer {{token}}"}], "url": {"raw": "{{base_url}}/api/wishlist/1", "host": ["{{base_url}}"], "path": ["api","wishlist","1"]}}},
        {"name": "Check", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{token}}"}], "url": {"raw": "{{base_url}}/api/wishlist/1/check", "host": ["{{base_url}}"], "path": ["api","wishlist","1","check"]}}}
      ]
    },
    {
      "name": "Cart",
      "item": [
        {"name": "Get (guest)", "request": {"method": "GET", "url": {"raw": "{{base_url}}/api/cart?guest_id=guest-123", "host": ["{{base_url}}"], "path": ["api","cart"], "query": [{"key":"guest_id","value":"guest-123"}]}}},
        {"name": "Add (guest)", "request": {"method": "POST", "header": [ {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/cart", "host": ["{{base_url}}"], "path": ["api","cart"]}, "body": {"mode": "raw", "raw": "{\n  \"book_id\": 1,\n  \"mode\": \"sale\",\n  \"quantity\": 1,\n  \"guest_id\": \"guest-123\"\n}"}}},
        {"name": "Update item", "request": {"method": "PUT", "header": [ {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/cart/1", "host": ["{{base_url}}"], "path": ["api","cart","1"]}, "body": {"mode": "raw", "raw": "{\n  \"quantity\": 2\n}"}}},
        {"name": "Delete item", "request": {"method": "DELETE", "url": {"raw": "{{base_url}}/api/cart/1", "host": ["{{base_url}}"], "path": ["api","cart","1"]}}},
        {"name": "Clear (guest)", "request": {"method": "DELETE", "url": {"raw": "{{base_url}}/api/cart?guest_id=guest-123", "host": ["{{base_url}}"], "path": ["api","cart"], "query": [{"key":"guest_id","value":"guest-123"}]}}}
      ]
    },
    {
      "name": "Enquiries",
      "item": [
        {"name": "Create (public)", "request": {"method": "POST", "header": [ {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/enquiries", "host": ["{{base_url}}"], "path": ["api","enquiries"]}, "body": {"mode": "raw", "raw": "{\n  \"items\": []\n}"}}},
        {"name": "List (auth)", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/enquiries", "host": ["{{base_url}}"], "path": ["api","enquiries"]}}},
        {"name": "Show (auth)", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/enquiries/1", "host": ["{{base_url}}"], "path": ["api","enquiries","1"]}}},
        {"name": "Update (admin)", "request": {"method": "PUT", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/enquiries/1", "host": ["{{base_url}}"], "path": ["api","enquiries","1"]}, "body": {"mode": "raw", "raw": "{\n  \"status\": \"processing\"\n}"}}}
      ]
    },
    {
      "name": "Rentals (admin subset)",
      "item": [
        {"name": "List (auth)", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/rentals", "host": ["{{base_url}}"], "path": ["api","rentals"]}}},
        {"name": "Create (admin)", "request": {"method": "POST", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/rentals", "host": ["{{base_url}}"], "path": ["api","rentals"]}, "body": {"mode": "raw", "raw": "{\n  \"book_id\": 1,\n  \"start_date\": \"2024-01-01\",\n  \"due_date\": \"2024-01-10\",\n  \"status\": \"active\",\n  \"amount\": 10\n}"}}},
        {"name": "Show (auth)", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/rentals/1", "host": ["{{base_url}}"], "path": ["api","rentals","1"]}}},
        {"name": "Return (admin)", "request": {"method": "PUT", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/rentals/1/return", "host": ["{{base_url}}"], "path": ["api","rentals","1","return"]}, "body": {"mode": "raw", "raw": "{\n  \"condition_notes\": \"Good\"\n}"}}},
        {"name": "Stats (admin)", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/rentals/stats", "host": ["{{base_url}}"], "path": ["api","rentals","stats"]}}}
      ]
    },
    {
      "name": "Sales (admin)",
      "item": [
        {"name": "List", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/sales", "host": ["{{base_url}}"], "path": ["api","sales"]}}},
        {"name": "Create", "request": {"method": "POST", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/sales", "host": ["{{base_url}}"], "path": ["api","sales"]}, "body": {"mode": "raw", "raw": "{\n  \"book_id\": 1,\n  \"status\": \"completed\",\n  \"amount\": 20\n}"}}},
        {"name": "Show", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/sales/1", "host": ["{{base_url}}"], "path": ["api","sales","1"]}}},
        {"name": "Update", "request": {"method": "PUT", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"}, {"key": "Content-Type", "value": "application/json"} ], "url": {"raw": "{{base_url}}/api/sales/1", "host": ["{{base_url}}"], "path": ["api","sales","1"]}, "body": {"mode": "raw", "raw": "{\n  \"status\": \"completed\",\n  \"amount\": 25\n}"}}},
        {"name": "Stats", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/sales/stats", "host": ["{{base_url}}"], "path": ["api","sales","stats"]}}}
      ]
    },
    {
      "name": "Dashboard (admin)",
      "item": [
        {"name": "Stats", "request": {"method": "GET", "header": [ {"key": "Authorization", "value": "Bearer {{token}}"} ], "url": {"raw": "{{base_url}}/api/dashboard/stats", "host": ["{{base_url}}"], "path": ["api","dashboard","stats"]}}}
      ]
    }
  ],
  "variable": [
    {"key": "base_url", "value": "http://localhost"},
    {"key": "token", "value": ""}
  ]
}